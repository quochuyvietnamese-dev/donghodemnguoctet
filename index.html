<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫øt 2026 & L·ªãch V·∫°n Ni√™n Custom</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ff3838; --gold: #ffcc00; }
        body {
            margin: 0; font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #800000 0%, #b30000 100%);
            color: white; min-height: 100vh; overflow-x: hidden;
            display: flex; flex-direction: column; align-items: center; padding-top: 20px;
        }

        /* Countdown Style */
        .countdown-wrap {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            padding: 20px; border-radius: 20px; text-align: center;
            border: 1px solid rgba(255,255,255,0.2); width: 90%; max-width: 500px; margin-bottom: 20px;
        }
        h1 { font-family: 'Dancing Script', cursive; color: var(--gold); margin: 0; font-size: 2.5rem; }
        .timer { display: flex; justify-content: space-around; margin-top: 15px; }
        .timer-item { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; min-width: 70px; border-bottom: 3px solid var(--gold); }
        .timer-item b { display: block; font-size: 1.8rem; color: var(--gold); }

        /* Calendar Style */
        .calendar-container {
            background: white; color: #333; width: 90%; max-width: 500px;
            border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .cal-header {
            background: var(--primary); color: white; padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .cal-header button { background: none; border: 1px solid white; color: white; border-radius: 5px; cursor: pointer; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); padding: 10px; text-align: center; }
        .day-name { font-weight: bold; color: var(--primary); padding-bottom: 10px; font-size: 0.8rem; }
        .date {
            padding: 10px 0; border-radius: 8px; cursor: pointer; transition: 0.2s;
            position: relative; height: 50px; display: flex; flex-direction: column; justify-content: center;
        }
        .date:hover { background: #f0f0f0; }
        .date.today { background: #ffebee; border: 1px solid var(--primary); }
        .date .solar { font-weight: bold; font-size: 1.1rem; }
        .date .lunar { font-size: 0.65rem; color: #777; }
        .date.sunday { color: var(--primary); }

        /* Music & Petals */
        .petal { position: absolute; top: -10%; pointer-events: none; animation: fall linear infinite; z-index: 100; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        .music-btn { position: fixed; bottom: 20px; right: 20px; background: var(--gold); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

    <div class="countdown-wrap">
        <h1 id="tet-name">T·∫øt B√≠nh Ng·ªç 2026</h1>
        <div class="timer">
            <div class="timer-item"><b id="d">00</b><span>Ng√†y</span></div>
            <div class="timer-item"><b id="h">00</b><span>Gi·ªù</span></div>
            <div class="timer-item"><b id="m">00</b><span>Ph√∫t</span></div>
            <div class="timer-item"><b id="s">00</b><span>Gi√¢y</span></div>
        </div>
    </div>

    <div class="calendar-container">
        <div class="cal-header">
            <button onclick="changeMonth(-1)">‚óÑ</button>
            <div id="cal-month-year" style="font-weight: bold;">Th√°ng 02/2026</div>
            <button onclick="changeMonth(1)">‚ñ∫</button>
        </div>
        <div class="cal-grid" id="cal-grid">
            <div class="day-name">CN</div><div class="day-name">T2</div><div class="day-name">T3</div>
            <div class="day-name">T4</div><div class="day-name">T5</div><div class="day-name">T6</div><div class="day-name">T7</div>
        </div>
    </div>

    <div class="music-btn" onclick="toggleMusic()">üéµ</div>
    <audio id="bg-music" loop src="https://files.catbox.moe/97968x.mp3"></audio>

    <script>
        // Thu·∫≠t to√°n r√∫t g·ªçn ƒë·ªÉ t√≠nh ng√†y √¢m (V√≠ d·ª• ƒë∆°n gi·∫£n, th·ª±c t·∫ø c·∫ßn th∆∞ vi·ªán ƒë·∫ßy ƒë·ªß)
        // ƒê·ªÉ demo ch√≠nh x√°c nh·∫•t, ta gi·∫£ ƒë·ªãnh c√°c m·ªëc ng√†y √¢m c∆° b·∫£n
        function getLunar(d, m, y) {
            // ƒê√¢y l√† ch·ªó ƒë·ªÉ nh√∫ng h√†m chuy·ªÉn ƒë·ªïi AmLich.js
            // T·∫°m th·ªùi gi·∫£ l·∫≠p: M√πng 1 T·∫øt 2026 l√† 17/02
            if(y==2026 && m==2 && d==17) return "1/1";
            if(y==2026 && m==2 && d==18) return "2/1";
            return ""; // Tr·∫£ v·ªÅ tr·ªëng n·∫øu ch∆∞a t√≠nh
        }

        let currentViewMonth = new Date().getMonth() + 1;
        let currentViewYear = new Date().getFullYear();

        function renderCalendar(month, year) {
            const grid = document.getElementById('cal-grid');
            // Gi·ªØ l·∫°i 7 ng√†y ƒë·∫ßu (CN-T7)
            while(grid.children.length > 7) grid.lastChild.remove();
            
            document.getElementById('cal-month-year').innerText = `Th√°ng ${month < 10 ? '0'+month : month}/${year}`;
            
            let firstDay = new Date(year, month - 1, 1).getDay();
            let daysInMonth = new Date(year, month, 0).getDate();

            for(let i=0; i<firstDay; i++) {
                let empty = document.createElement('div');
                grid.appendChild(empty);
            }

            for(let d=1; d<=daysInMonth; d++) {
                let div = document.createElement('div');
                div.className = 'date';
                if(new Date(year, month-1, d).getDay() == 0) div.classList.add('sunday');
                
                // Gi·∫£ l·∫≠p ng√†y √¢m ƒë∆°n gi·∫£n cho demo
                let lunar = (d % 29) + 1; 
                div.innerHTML = `<span class="solar">${d}</span><span class="lunar">${lunar}</span>`;
                grid.appendChild(div);
            }
        }

        function changeMonth(step) {
            currentViewMonth += step;
            if(currentViewMonth > 12) { currentViewMonth = 1; currentViewYear++; }
            if(currentViewMonth < 1) { currentViewMonth = 12; currentViewYear--; }
            renderCalendar(currentViewMonth, currentViewYear);
        }

        // Countdown Logic
        const tetDates = { 2026: "Feb 17, 2026", 2027: "Feb 06, 2027" };
        function updateCountdown() {
            const now = new Date();
            let y = now.getFullYear();
            if (now > new Date(tetDates[y])) y++;
            const diff = new Date(tetDates[y]) - now;
            
            document.getElementById('d').innerText = Math.floor(diff/86400000);
            document.getElementById('h').innerText = Math.floor((diff%86400000)/3600000);
            document.getElementById('m').innerText = Math.floor((diff%3600000)/60000);
            document.getElementById('s').innerText = Math.floor((diff%60000)/1000);
        }

        function toggleMusic() {
            const m = document.getElementById('bg-music');
            m.paused ? m.play() : m.pause();
        }

        function createPetal() {
            const p = document.createElement('div');
            p.innerHTML = ['üå∏','üßß','üåº'][Math.floor(Math.random()*3)];
            p.className = 'petal';
            p.style.left = Math.random()*100+'vw';
            p.style.animationDuration = Math.random()*3+2+'s';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 4000);
        }

        setInterval(updateCountdown, 1000);
        setInterval(createPetal, 300);
        renderCalendar(currentViewMonth, currentViewYear);
        updateCountdown();
    </script>
</body>
</html>
