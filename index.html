<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·∫øm Ng∆∞·ª£c ƒêa NƒÉng 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ff3838; --gold: #ffcc00; }
        body {
            margin: 0; font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #800000 0%, #b30000 100%);
            color: white; min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 20px 0;
        }

        /* Countdown */
        .countdown-wrap {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            padding: 20px; border-radius: 20px; text-align: center;
            border: 1px solid rgba(255,255,255,0.2); width: 90%; max-width: 500px; margin-bottom: 20px;
            position: relative;
        }
        h1 { font-family: 'Dancing Script', cursive; color: var(--gold); margin: 0; font-size: 2.2rem; min-height: 60px; }
        .timer { display: flex; justify-content: space-around; margin-top: 15px; }
        .timer-item { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; min-width: 70px; border-bottom: 3px solid var(--gold); }
        .timer-item b { display: block; font-size: 1.8rem; color: var(--gold); }
        
        #reset-btn {
            background: var(--gold); color: #800000; border: none; padding: 5px 15px;
            border-radius: 15px; font-weight: bold; cursor: pointer; margin-top: 10px; display: none;
        }

        /* Calendar */
        .calendar-container {
            background: white; color: #333; width: 90%; max-width: 500px;
            border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .cal-header {
            background: var(--primary); color: white; padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .cal-header button { background: rgba(255,255,255,0.2); border: none; color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); padding: 10px; }
        .day-name { font-weight: bold; color: var(--primary); text-align: center; padding: 10px 0; font-size: 0.8rem; }
        .date {
            padding: 8px 0; border-radius: 8px; cursor: pointer; text-align: center;
            position: relative; height: 55px; display: flex; flex-direction: column; justify-content: center;
        }
        .date:hover { background: #ffebeb; transform: scale(1.1); z-index: 2; transition: 0.2s; }
        .date.selected { background: #ff3838 !important; color: white !important; }
        .date .solar { font-weight: bold; font-size: 1rem; }
        
        .is-holiday::after {
            content: "‚Ä¢"; position: absolute; bottom: 2px; left: 0; right: 0;
            font-size: 1rem; color: var(--primary);
        }
        .date.sunday { color: var(--primary); }
        .date.today { border: 2px solid var(--gold); background: #fffde7; }

        .music-btn { position: fixed; bottom: 20px; right: 20px; background: var(--gold); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000; }
        .petal { position: absolute; top: -10%; pointer-events: none; animation: fall linear infinite; z-index: 100; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
    </style>
</head>
<body>

    <div class="countdown-wrap">
        <h1 id="countdown-title">ƒêang t·∫£i...</h1>
        <div class="timer">
            <div class="timer-item"><b id="d">00</b><span>Ng√†y</span></div>
            <div class="timer-item"><b id="h">00</b><span>Gi·ªù</span></div>
            <div class="timer-item"><b id="m">00</b><span>Ph√∫t</span></div>
            <div class="timer-item"><b id="s">00</b><span>Gi√¢y</span></div>
        </div>
        <button id="reset-btn" onclick="resetToTet()">Quay l·∫°i ƒë·∫øm T·∫øt üå∏</button>
    </div>

    <div class="calendar-container">
        <div class="cal-header">
            <button onclick="changeMonth(-1)">‚óÑ</button>
            <div id="cal-month-year" style="font-weight: bold;"></div>
            <button onclick="changeMonth(1)">‚ñ∫</button>
        </div>
        <div class="cal-grid" id="cal-grid">
            <div class="day-name">CN</div><div class="day-name">T2</div><div class="day-name">T3</div>
            <div class="day-name">T4</div><div class="day-name">T5</div><div class="day-name">T6</div><div class="day-name">T7</div>
        </div>
    </div>

    <div class="music-btn" onclick="toggleMusic()">üéµ</div>
    <audio id="bg-music" loop src="https://files.catbox.moe/97968x.mp3"></audio>

    <script>
        const holidays = { "1-1": "T·∫øt T√¢y", "17-2": "T·∫øt B√≠nh Ng·ªç", "8-3": "8/3 Ph·ª• N·ªØ", "30-4": "Gi·∫£i Ph√≥ng", "1-5": "Qu·ªëc t·∫ø Lƒê", "2-9": "Qu·ªëc Kh√°nh", "25-12": "Gi√°ng Sinh" };
        const tetDates = { 2026: "Feb 17, 2026 00:00:00", 2027: "Feb 06, 2027 00:00:00" };
        
        let currentTargetDate = null;
        let currentTargetName = "";
        let currentViewMonth = new Date().getMonth() + 1;
        let currentViewYear = new Date().getFullYear();

        function initTarget() {
            const now = new Date();
            let y = now.getFullYear();
            if (now > new Date(tetDates[y])) y++;
            currentTargetDate = new Date(tetDates[y]);
            currentTargetName = `T·∫øt Nguy√™n ƒê√°n ${y}`;
            document.getElementById('reset-btn').style.display = "none";
        }

        function selectDate(d, m, y) {
            currentTargetDate = new Date(y, m - 1, d);
            const holidayKey = `${d}-${m}`;
            currentTargetName = holidays[holidayKey] ? holidays[holidayKey] : `Ng√†y ${d} th√°ng ${m}`;
            
            document.getElementById('reset-btn').style.display = "inline-block";
            renderCalendar(currentViewMonth, currentViewYear);
            updateCountdown();
        }

        function resetToTet() {
            initTarget();
            renderCalendar(currentViewMonth, currentViewYear);
        }

        function renderCalendar(month, year) {
            const grid = document.getElementById('cal-grid');
            while(grid.children.length > 7) grid.lastChild.remove();
            document.getElementById('cal-month-year').innerText = `Th√°ng ${month}/${year}`;
            
            let firstDay = new Date(year, month - 1, 1).getDay();
            let daysInMonth = new Date(year, month, 0).getDate();

            for(let i=0; i<firstDay; i++) grid.appendChild(document.createElement('div'));

            for(let d=1; d<=daysInMonth; d++) {
                let div = document.createElement('div');
                div.className = 'date';
                if(holidays[`${d}-${month}`]) div.classList.add('is-holiday');
                if(d === new Date().getDate() && month === (new Date().getMonth()+1) && year === new Date().getFullYear()) div.classList.add('today');
                if(currentTargetDate && d === currentTargetDate.getDate() && month === (currentTargetDate.getMonth()+1) && year === currentTargetDate.getFullYear()) div.classList.add('selected');
                if(new Date(year, month-1, d).getDay() == 0) div.classList.add('sunday');

                div.innerHTML = `<span class="solar">${d}</span>`;
                div.onclick = () => selectDate(d, month, year);
                grid.appendChild(div);
            }
        }

        function updateCountdown() {
            const now = new Date();
            const diff = currentTargetDate - now;
            
            document.getElementById('countdown-title').innerText = diff > 0 ? `ƒê·∫øm ng∆∞·ª£c ƒë·∫øn: ${currentTargetName}` : `ƒê√£ ƒë·∫øn ng√†y: ${currentTargetName}!`;
            
            const time = Math.abs(diff);
            document.getElementById('d').innerText = Math.floor(time/86400000).toString().padStart(2,'0');
            document.getElementById('h').innerText = Math.floor((time%86400000)/3600000).toString().padStart(2,'0');
            document.getElementById('m').innerText = Math.floor((time%3600000)/60000).toString().padStart(2,'0');
            document.getElementById('s').innerText = Math.floor((time%60000)/1000).toString().padStart(2,'0');
        }

        function changeMonth(step) {
            currentViewMonth += step;
            if(currentViewMonth > 12) { currentViewMonth = 1; currentViewYear++; }
            if(currentViewMonth < 1) { currentViewMonth = 12; currentViewYear--; }
            renderCalendar(currentViewMonth, currentViewYear);
        }

        function toggleMusic() {
            const m = document.getElementById('bg-music');
            m.paused ? m.play() : m.pause();
        }

        function createPetal() {
            const p = document.createElement('div');
            p.innerHTML = ['üå∏','üßß','üåº'][Math.floor(Math.random()*3)];
            p.className = 'petal';
            p.style.left = Math.random()*100+'vw';
            p.style.animationDuration = Math.random()*3+2+'s';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 4000);
        }

        initTarget();
        setInterval(updateCountdown, 1000);
        setInterval(createPetal, 400);
        renderCalendar(currentViewMonth, currentViewYear);
    </script>
</body>
</html>
